# RogueLike
三次元マップ自動生成プロジェクト  

# 開発環境
* Unityバージョン 2019.2.6f1
* Editor Visual Studio 2017

# 実行方法
# Ediror
SampleSceneシーンを開いて実行  
```bash
Assets/Scenes/SampleScene.unity
```
# 実行ファイル
動作環境 windows10 64bit  
ディレクトリの  
```bash
/Build/RogueLike.exe
```
を実行  

# 操作説明
AWDSキーで移動  
マウス操作で始点変更  
マウス右クリックで始点を正面にリセット  
マウスホイール回転でカメラのズーム変更  
エスケープキーでゲーム終了  

# パラメーター説明
HierarchyウィンドウからGameObjectにAddCompornentされている  
MapCreateスクリプトをInspectorの各種テキスト入力でパラメーターを調整することで生成されるマップを調整する事ができます  

* マップ生成シード値
自動生成の乱数のシード値これを変更することで別のマップを再現させることができます 
下限上限があるパラメータはこのシード値を使用したランダムで範囲内の値を設定します
* 部屋の数
マップに作成する部屋の数  
マップのサイズ上作成ができなくなった場合は作成を中断します
* 部屋の一辺の下限サイズ
部屋を作成する際の範囲下限値
* 部屋の一辺の上限サイズ
部屋を作成する際の範囲上限値
* 道作成不可セルの数
道を作成することができないセルをランダムで配置する数
* 簡易分岐下限数
通路の進行を方向転換させる大まかな通路を作成する際の分岐数下限値
* 簡易分岐上限数
通路進行を方向転換させる大まかな通路を作成する際の分岐数上限値
* 詳細分岐下限数
通路進行を方向転換させる細かい通路を作成する際の分岐数下限値
* 詳細分岐上限数
通路進行を方向転換させる細かい通路を作成する際の分岐数上限値
* 接続分岐下限数
通路を分岐させ接続させる際の接続数下限値
* 接続分岐上限数
通路を分岐させ接続させる際の接続数上限値
* 通路の接続数
通路を接続させる通路作成数の上限値
* 接続エリア数
通路を接続させる通路の数
* 接続エリア用エリアサイズ
始点に道がないことを確認する矩形範囲サイズ  
この範囲内に道がある場合は候補から除外される
* エリア数
エリアの総数  
エリアはセルの情報で0から始まり一定数進む毎に1加算される  
区画分けのようなもので地形の生成には特に影響はない
* エリア分岐下限数
エリアを加算させるための道の進捗下限値
* エリア分岐上限数
エリアを加算させるための道の進捗上限値
* エリア長さ補正倍率範囲
エリアの長さ補正計算用
* ループ接続数
枝分かれしている道と道を接続させる数
* ループ接続道の長さ
接続するまでの最大距離  
この値以上の接続は候補から除外する
* ループ接続2点座標の下限距離
接続点同士の離れている距離下限距離
* ループ接続2点座標の上限距離
接続点同士の離れている距離上限距離
* ループ接続候補除外条件距離
接続点同士の離れている距離がこの値以下であれば候補から除外する
* キャラ作成数
マップに出現させるキャラクター数

# 仕様説明
マップの作成は基本的に迷路作成アルゴリズムの穴掘り法を使用  
キャラクターの移動はNavigationコンポーネントを使用し作成したマップの形に合わせて自動で移動させるようにしている  
マップ全体の構造を確認したい場合はScene画面に切り替えて確認してください  
　


